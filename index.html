<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>GG Veg&Beauty</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<style>
body{margin:0;font-family:Arial;background:linear-gradient(135deg,#fce7f3,#e9d5ff);}
header{background:#fff;padding:18px;text-align:center;font-size:22px;font-weight:bold;color:#7e22ce;}
.hidden{display:none;}
.container{max-width:1100px;margin:auto;padding:20px;}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;}
.product,.card{background:#fff;padding:18px;border-radius:18px;box-shadow:0 8px 20px rgba(0,0,0,.1);}
button{width:100%;padding:12px;border:none;border-radius:14px;background:linear-gradient(135deg,#ec4899,#d946ef);color:#fff;cursor:pointer;margin-top:10px;}
input{width:100%;padding:12px;margin:8px 0;border-radius:10px;border:1px solid #ddd;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:8px;}
.remove{background:#f43f5e;border:none;color:#fff;border-radius:8px;padding:4px 6px;cursor:pointer;}
.admin-btn{position:fixed;bottom:15px;right:15px;background:#7e22ce;}
</style>
</head>

<body>

<header>GG Veg&Beauty ðŸ’„ðŸŒ±</header>

<!-- LOGIN / CADASTRO -->
<div class="container" id="auth">
  <h2>Entrar</h2>
  <input id="loginEmail" placeholder="E-mail">
  <input id="loginPass" type="password" placeholder="Senha">
  <button onclick="login()">Entrar</button>

  <hr>

  <h3>Cadastrar</h3>
  <input id="regEmail" placeholder="E-mail">
  <input id="regPass" type="password" placeholder="Senha">
  <button onclick="register()">Cadastrar</button>
</div>

<!-- LOJA CLIENTE -->
<div class="container hidden" id="store">
  <h2>Batons</h2>
  <div class="products">
    <div class="product"><h3>Batom Ruby Rose</h3><p>R$ 12,90</p><button onclick="add('Ruby Rose',12.9)">Adicionar</button></div>
    <div class="product"><h3>Batom Vult</h3><p>R$ 24,90</p><button onclick="add('Vult',24.9)">Adicionar</button></div>
    <div class="product"><h3>Batom MAC</h3><p>R$ 109,90</p><button onclick="add('MAC',109.9)">Adicionar</button></div>
  </div>

  <div class="card" style="margin-top:20px">
    <h3>Carrinho ðŸ›’</h3>
    <div id="cart"></div>
    <strong id="total">Total: R$ 0,00</strong>
    <button onclick="checkout()">Finalizar compra</button>
    <button onclick="logout()">Sair</button>
  </div>
</div>

<!-- CHECKOUT -->
<div class="container hidden" id="checkout">
  <div class="card">
    <h3>Pagamento Pix</h3>
    <p>CPF: <strong>138.955.874-60</strong></p>
    <canvas id="qrcode"></canvas>
    <p id="checkoutTotal"></p>
    <button onclick="finalizar()">JÃ¡ fiz o Pix</button>
  </div>
</div>

<!-- ADMIN -->
<div class="container hidden" id="admin">
  <div class="card">
    <h3>Painel Administrativo</h3>
    <div id="orders"></div>
    <button onclick="logout()">Sair</button>
  </div>
</div>

<button class="admin-btn" onclick="adminLogin()">Admin</button>

<script>
let cart=[], total=0;

function register(){
  const email=regEmail.value, pass=regPass.value;
  if(!email||!pass){alert('Preencha tudo');return;}
  localStorage.setItem('user_'+email,pass);
  alert('Cadastro realizado! FaÃ§a login.');
}

function login(){
  const email=loginEmail.value, pass=loginPass.value;

  // ADMIN
  if(email==='admin@ggvegbeauty.com' && pass==='admin123'){
    auth.classList.add('hidden');
    admin.classList.remove('hidden');
    loadOrders();
    return;
  }

  const saved=localStorage.getItem('user_'+email);
  if(saved===pass){
    auth.classList.add('hidden');
    store.classList.remove('hidden');
  }else{
    alert('E-mail ou senha incorretos');
  }
}

function logout(){
  store.classList.add('hidden');
  admin.classList.add('hidden');
  checkout.classList.add('hidden');
  auth.classList.remove('hidden');
}

function add(n,p){cart.push({n,p});render();}
function render(){
  cartDiv.innerHTML=''; total=0;
  cart.forEach((i,idx)=>{
    total+=i.p;
    cartDiv.innerHTML+=`<div class="cart-item">${i.n} R$ ${i.p.toFixed(2)}
    <button class="remove" onclick="cart.splice(${idx},1);render()">X</button></div>`;
  });
  totalSpan.innerText=`Total: R$ ${total.toFixed(2)}`;
}

function checkout(){
  if(!cart.length){alert('Carrinho vazio');return;}
  store.classList.add('hidden');
  checkoutDiv.classList.remove('hidden');
  checkoutTotal.innerText=`Valor: R$ ${total.toFixed(2)}`;
  QRCode.toCanvas(qrcode,`PIX CPF 13895587460 VALOR ${total.toFixed(2)}`);
}

function finalizar(){
  const orders=JSON.parse(localStorage.getItem('orders')||'[]');
  orders.push({data:new Date().toLocaleString(),cart,total});
  localStorage.setItem('orders',JSON.stringify(orders));
  alert('Pedido registrado! Envie comprovante para giselaynegih@gmail.com');
  cart=[];render();
  checkoutDiv.classList.add('hidden');
  store.classList.remove('hidden');
}

function loadOrders(){
  orders.innerHTML='';
  JSON.parse(localStorage.getItem('orders')||'[]')
    .forEach(o=>orders.innerHTML+=`<p>${o.data} - R$ ${o.total.toFixed(2)}</p>`);
}

// aliases
const cartDiv=document.getElementById('cart');
const totalSpan=document.getElementById('total');
const checkoutDiv=document.getElementById('checkout');
</script>

</body>
</html>
