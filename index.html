<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>GG Veg&Beauty</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <style>
    body{
      margin:0;
      font-family:Arial, sans-serif;
      background:linear-gradient(135deg,#fce7f3,#e9d5ff);
    }
    header{
      background:#fff;
      padding:18px;
      text-align:center;
      font-size:22px;
      font-weight:bold;
      color:#7e22ce;
    }
    .hidden{display:none;}
    .container{max-width:1100px;margin:auto;padding:20px;}
    .products{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:20px;
    }
    .product, .card{
      background:#fff;
      padding:18px;
      border-radius:18px;
      box-shadow:0 8px 20px rgba(0,0,0,.1);
    }
    button{
      width:100%;
      padding:12px;
      border:none;
      border-radius:14px;
      background:linear-gradient(135deg,#ec4899,#d946ef);
      color:#fff;
      cursor:pointer;
      margin-top:10px;
    }
    .cart-item{
      display:flex;
      justify-content:space-between;
      margin-bottom:8px;
    }
    .remove{
      background:#f43f5e;
      border:none;
      color:#fff;
      border-radius:8px;
      padding:4px 6px;
      cursor:pointer;
    }
    .admin-btn{
      position:fixed;
      bottom:15px;
      right:15px;
      background:#7e22ce;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ddd;
    }
  </style>
</head>

<body>

<header>GG Veg&Beauty 游눇游꺔</header>

<!-- VIS츾O DO CLIENTE -->

<!-- Tela de login -->
<div class="container" id="login">
  <h2>Entrar ou Cadastre-se</h2>
  <input id="email" type="email" placeholder="E-mail" />
  <input id="password" type="password" placeholder="Senha" />
  <button onclick="login()">Entrar</button>
  <hr>
  <h3>N칚o tem conta? Cadastre-se!</h3>
  <input id="newEmail" type="email" placeholder="Novo e-mail" />
  <input id="newPassword" type="password" placeholder="Nova senha" />
  <button onclick="cadastro()">Cadastrar</button>
</div>

<!-- Vis칚o do cliente com loja -->
<div id="store" class="container hidden">
  <h2>Batons</h2>
  <div class="products">
    <div class="product"><h3>Batom Ruby Rose</h3><p>R$ 12,90</p><button onclick="add('Ruby Rose',12.9)">Adicionar</button></div>
    <div class="product"><h3>Batom Vult</h3><p>R$ 24,90</p><button onclick="add('Vult',24.9)">Adicionar</button></div>
    <div class="product"><h3>Batom MAC</h3><p>R$ 109,90</p><button onclick="add('MAC',109.9)">Adicionar</button></div>
  </div>

  <div class="card" style="margin-top:20px">
    <h3>Carrinho 游</h3>
    <div id="cart"></div>
    <p><strong id="total">Total: R$ 0,00</strong></p>
    <button onclick="checkout()">Finalizar compra</button>
  </div>
</div>

<!-- Checkout -->
<div class="container hidden" id="checkout">
  <div class="card">
    <h3>Pagamento Pix</h3>
    <p>CPF: <strong>138.955.874-60</strong></p>
    <canvas id="qrcode"></canvas>
    <p id="checkoutTotal"></p>
    <button onclick="finalizar()">J치 fiz o Pix</button>
  </div>
</div>

<!-- Admin -->
<button class="admin-btn" onclick="toggleAdmin()">Admin</button>

<script>
// Definir vari치veis de estado
let cart = [], total = 0, loggedInUser = null;

// Fun칞칚o para cadastrar usu치rio
function cadastro() {
  const email = document.getElementById("newEmail").value;
  const password = document.getElementById("newPassword").value;
  if (email && password) {
    localStorage.setItem('user', JSON.stringify({ email, password }));
    alert('Cadastro realizado com sucesso! Agora fa칞a login.');
  } else {
    alert('Preencha todos os campos!');
  }
}

// Fun칞칚o de login
function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const user = JSON.parse(localStorage.getItem('user'));
  if (user && user.email === email && user.password === password) {
    loggedInUser = user;
    document.getElementById("login").classList.add('hidden');
    document.getElementById("store").classList.remove('hidden');
  } else {
    alert('Usu치rio ou senha inv치lidos!');
  }
}

// Fun칞칚o de logout
function logout() {
  loggedInUser = null;
  document.getElementById("store").classList.add('hidden');
  document.getElementById("login").classList.remove('hidden');
}

// Fun칞칚o de adicionar produtos ao carrinho
function add(name, price) {
  cart.push({ name, price });
  renderCart();
}

// Fun칞칚o de renderiza칞칚o do carrinho
function renderCart() {
  const cartDiv = document.getElementById('cart');
  cartDiv.innerHTML = '';
  total = 0;
  cart.forEach((item, index) => {
    total += item.price;
    cartDiv.innerHTML += `
      <div class="cart-item">
        ${item.name} - R$ ${item.price.toFixed(2)}
        <button class="remove" onclick="removeItem(${index})">X</button>
      </div>
    `;
  });
  document.getElementById('total').innerText = `Total: R$ ${total.toFixed(2)}`;
}

// Fun칞칚o de remover item do carrinho
function removeItem(index) {
  cart.splice(index, 1);
  renderCart();
}

// Fun칞칚o de checkout
function checkout() {
  if (!cart.length) {
    alert('Carrinho vazio');
    return;
  }
  document.getElementById('store').classList.add('hidden');
  document.getElementById('checkout').classList.remove('hidden');
  document.getElementById('checkoutTotal').innerText = `Valor: R$ ${total.toFixed(2)}`;
  QRCode.toCanvas(document.getElementById('qrcode'), `PIX CPF 13895587460 VALOR ${total.toFixed(2)}`);
}

// Fun칞칚o de finalizar compra
function finalizar() {
  const pedidos = JSON.parse(localStorage.getItem('orders') || '[]');
  pedidos.push({ data: new Date().toLocaleString(), cart, total });
  localStorage.setItem('orders', JSON.stringify(pedidos));
  alert('Pedido registrado! Envie o comprovante para giselaynegih@gmail.com');
  cart = [];
  total = 0;
  renderCart();
  document.getElementById('checkout').classList.add('hidden');
  document.getElementById('store').classList.remove('hidden');
}

// Fun칞칚o de ativar/desativar
